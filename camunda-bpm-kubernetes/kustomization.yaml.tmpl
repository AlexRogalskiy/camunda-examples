# WARNING This file is templated by kustomization.yaml.tmpl

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: camunda-bpm-demo

# Labels to add to all resources and selectors.
commonLabels:
  app.kubernetes.io/env: demo

bases:
  - ./platform

resources:
  - namespace.yaml
  - site-data.yaml

images:
  - name: camunda-bpm
    newName: gcr.io/camunda-public-images/camunda-bpm-k8s-demo
    #skaffold will overwrite this, otherwise you should explicitly set it
    newTag: latest

# set url specific data and configure tls
patchesStrategicMerge:
  - ingress-patch.yaml

vars:
  - name: HOSTNAME
    fieldref:
      fieldPath: data.hostname
    objref:
      apiVersion: v1
      kind: ConfigMap
      name: site-data
